<!DOCTYPE html>
<html><head>
	<link rel="canonical" href="https://josh-d-l.github.io/Math-Machines/WIP/Unnamed"/>
	<style>
		.spoiler {
			background-color: #A0A0A0;
			display: inline;
			position: fixed;
			right: 25px;
			top: 20px;
		}
		canvas {
			top: 50%;
			left: 50%;
			margin-top: -250px;
			margin-left: -250px;
			position: fixed;
			display: block;
		}
	</style>
	<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
</head>
<body style="">
<h1 style="text-align: center;" id="title">Unnamed</h1>
<canvas id="diagram" width="500" height="500" style="border:1px solid #000000;" title="Diagram"></canvas>
<p><span id="Points">0</span> points have been drawn.</p>
<br>
<input type="number" id="startX" placeholder="Starting x point" value="250" min="1" max="500" onchange="choosePoint()">
<br>
<input type="number" id="startY" placeholder="Starting y point" value="250" min="1" max="500" onchange="choosePoint()">
<br>
<button onclick="start()">Start</button><button onclick="stop()">Stop</button>
<script>
	var diagram = document.getElementById("diagram");
	var draw = diagram.getContext("2d");
	draw.moveTo(0, 500);
	draw.lineTo(250, 67);
	draw.stroke();
	draw.moveTo(0, 500);
	draw.lineTo(500, 500);
	draw.stroke();
	draw.moveTo(500, 500);
	draw.lineTo(250, 67);
	draw.stroke();
	var coords = [document.getElementById("startX").value, document.getElementById("startY").value];
	draw.fillRect(coords[0], coords[1], 1, 1);
	document.getElementById("Points").innerText = 1;
	function choosePoint() {
		draw.clearRect(0, 0, diagram.width, diagram.height);
		draw.moveTo(0, 500);
		draw.lineTo(250, 67);
		draw.stroke();
		draw.moveTo(0, 500);
		draw.lineTo(500, 500);
		draw.stroke();
		draw.moveTo(500, 500);
		draw.lineTo(250, 67);
		draw.stroke();
		var coords = [document.getElementById("startX").value, 500 - document.getElementById("startY").value];
		draw.fillRect(coords[0], coords[1], 1, 1);
		document.getElementById("Points").innerText = 1;
	}
	function start() {
		clearInterval(sessionStorage.interval);
		sessionStorage.interval = setInterval(points, 100); 
	}
	function stop() {
		clearInterval(sessionStorage.interval);
	}
	function points() {
		document.getElementById("Points").innerText = Number(document.getElementById("Points").innerText) + 1;
		if (sessionStorage.getItem("xCoord") == null) {
			var pointXcoord = document.getElementById("startX").value;
			
		} else {
			var pointXcoord = sessionStorage.xCoord;
		}
		if (sessionStorage.getItem("yCoord") == null) {
			var pointYcoord = 500 - document.getElementById("startY").value;
		} else {
			var pointYcoord = sessionStorage.yCoord;
		}
		var rand = Math.random();
		console.log("X coord: " + pointXcoord);
		console.log("Y coord: " + pointYcoord);
		console.log(rand);
		if (rand < .33333) {
			console.log("1");
			var newX = pointXcoord / 2;
			var newY = 500 - (pointYcoord / 2);
			sessionStorage.xCoord = newX;
			sessionStorage.yCoord = newY;
			draw.fillRect(newX, newY, 1, 1);
		} else if (rand >= .33333 && rand < .66666) {
			console.log("2");
			var newX = (250 + pointXcoord) / 2;
			var newY = 500 - ((67 + pointYcoord) / 2);
			sessionStorage.xCoord = newX;
			sessionStorage.yCoord = newY;
			draw.fillRect(newX, newY, 1, 1);
		} else {
			console.log("3");
			var newX = (500 + pointXcoord) / 2;
			var newY = 500 - ((67 + pointYcoord) / 2);
			sessionStorage.xCoord = newX;
			sessionStorage.yCoord = newY;
			draw.fillRect(newX, newY, 1, 1);
		}
	}
</script>
<button type="button" style="position: fixed; right: 25px; top: 0px" id="spoilerShow" onclick="toggleDisplay()">Settings</button>
<br>
<br>
<div class="spoiler" onmouseout="hide()" id="spoiler" style="display: none;">
	<input type="color" id="Background Color" onchange="backgroundColor()"/>
	Background Color
	<br/>
	<input type="color" id="Text Color" onchange="textColor()"/>
	Text Color
	<br/>
	<input type="color" id="Title Color" onchange="titleColor()"/>
	Title Color
	<br/>
	<input type="number" id="Font Size" onchange="fontSize()" style="width: 45px" value="16" min="1" max="100"/>
	Font Size (px)
	<br/>
	<button type="button" onclick="reset()">Reset Settings</button>
</div>
<script>
function endSession() {
	  localStorage.setItem("Background Color", document.getElementById("Background Color").value);
	  localStorage.setItem("Title Color", document.getElementById("Title Color").value);
	  localStorage.setItem("Text Color", document.getElementById("Text Color").value);
	  localStorage.setItem("Font Size", document.getElementById("Font Size").value);
}
var toggle = "on";
function toggleDisplay() {
	if (toggle == "on") {
		document.getElementById("spoiler").style.display = "initial";
		toggle = "off";
	} else {
		document.getElementById("spoiler").style.display = "none";
		toggle = "on";
	}
}
function hide() {
	var wait = setTimeout(function() {
		toggle = "on";
		document.getElementById("spoiler").style.display = "none";
	}, 3000);
	document.getElementById("spoiler").addEventListener("mouseover", function() {
		clearTimeout(wait);
	}, false);
}
function reset() {
	document.getElementById("Background Color").value = "#FFFFFF";
	document.getElementById("Title Color").value = "#000000";
	document.getElementById("Text Color").value = "#000000";
	document.getElementById("Font Size").value = "16";
	document.body.style.fontSize = 16 + "px";
	document.getElementById("title").style.color = "#000000";
	document.body.style.color = "#000000";
	document.body.style.backgroundColor = "#FFFFFF";
}
function backgroundColor() {
	var color = document.getElementById("Background Color").value;
	document.body.style.backgroundColor = color;
}
function textColor() {
	var color = document.getElementById("Text Color").value;
	document.body.style.color = color;
}
function titleColor() {
	var color = document.getElementById("Title Color").value;
	document.getElementById("title").style.color = color;
}
function fontSize() {
	var size = document.getElementById("Font Size").value;
	document.body.style.fontSize = size + "px";
}
function settings() {
	if (localStorage.getItem("Background Color") != null) {
		document.getElementById("Background Color").value = localStorage.getItem("Background Color");
	}
	if (localStorage.getItem("Font Size") != null) {
		document.getElementById("Font Size").value = localStorage.getItem("Font Size");
		document.body.style.fontSize = localStorage.getItem("Font Size") + "px";
	}
	document.getElementById("Title Color").value = localStorage.getItem("Title Color");
	document.getElementById("Text Color").value = localStorage.getItem("Text Color");
	document.getElementById("title").style.color = localStorage.getItem("Title Color");
	document.body.style.color = localStorage.getItem("Text Color");
	document.body.style.backgroundColor = localStorage.getItem("Background Color");
}
document.getElementsByClassName("spoiler")[0].style.display = "none";
document.getElementById("Background Color").value = "#FFFFFF";
settings();
window.onbeforeunload = function() {
	endSession();
}
var host = "josh-d-l.github.io";
if ((host == window.location.host) && (window.location.protocol != "https:")) {
	window.location.protocol = "https";
}
</script>
<h5 style="position: fixed; bottom: 0px; right: 25px; color: #000000" id="mine">
	Copyright Josh Lawson
</h5>


</body></html>
