<!DOCTYPE HTML>

<head>
	<link rel="canonical" href="https://josh-d-l.github.io/Math-Machines/Machines/Graph-Creator" />
	<style>
	.spoiler {
		background-color: #A0A0A0;
		display: inline;
		position: fixed;
		right: 25px;
		top: 20px;
	}
	canvas {
		top: 50%;
		left: 50%;
		margin-top: -250px;
		margin-left: -250px;
		position: fixed;
		display: block;
	}
	</style>
	<title>Graph Creator</title>
	<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
</head>

<BODY>
	<H1 style="text-align:center" id="title">Graph Creator</H1>
	<p>
		
	</p>
	<canvas id="diagram" width="500" height="500" style="border:1px solid #000000;" title="Diagram">Your browswer does not support canvas.</canvas>
	<br>
	<input type="text" id="variable" style="width: 12px" title="Variable" onChange="changeVariable();" value="x">
	<br>
	y&nbsp;=&nbsp;<input type="text" class="Sign" style="width: 12px" title="+ / -" value="+"><input type="text" style="width: 24px" id="Coefficient" title="Coefficient"><span class="VariableA">x</span>&nbsp;<input type="text" class="Sign" style="width: 12px" title="+ / -" value="+"></input>&nbsp;<input type="text" style="width: 24px" id="Constant" title="Constant">
	<br>
	<button type="button" onclick="submit()">Submit</button>
	<script>
	  function submit() {
	    if (document.getElementsByClassName("Sign")[0].value == "+") {
	    	var slope = document.getElementById("Coefficient").value;
	    } else {
	    	var slope = -Number(document.getElementById("Coefficient").value);
	    }
	    if (document.getElementsByClassName("Sign")[1].value == "+") {
	    	var yIntercept = document.getElementById("Constant").value;
	    } else {
	    	var yIntercept = -Number(document.getElementById("Constant").value);
	    }
	    var diagram = document.getElementById("diagram");
	    var draw = diagram.getContext("2d");
	    diagram.width = diagram.width
	    diagram.style.backgroundColor = document.getElementById("Diagram Background Color").value;
	    draw.strokeStyle = document.getElementById("Line Color").value;
	    var scaleY = slope * document.getElementById("xVal").value;
	    scaleY = Number(scaleY);
	    scaleY = diagram.height / scaleY;
	    var scaleX = diagram.width / document.getElementById("xVal").value;
	    var scale = Math.min(scaleY, scaleX);
	    for (var x = scale; x < diagram.width; x += scale) {
	    	draw.moveTo(x, 0);
	    	draw.lineTo(x, diagram.height);
	    	draw.stroke();
	    }
	    for (var x = scale; x < diagram.height; x += scale) {
	    	draw.moveTo(0, x);
	    	draw.lineTo(diagram.width, x);
	    	draw.stroke();
	    }
	    var pointA = [0, diagram.height - scale * Number(yIntercept)];
	    var pointB = [Number(document.getElementById("xVal").value) * scale, diagram.height - (scale * Number(yIntercept) + scale * Number(slope) * Number(document.getElementById("xVal").value))];
	    draw.moveTo(pointA[0], pointA[1]);
	    draw.lineTo(pointB[0], pointB[1]);
	    draw.stroke();
	  }
	  function changeVariable() {
		for (var x = 0; x < document.getElementsByClassName("VariableA").length; x++) {
			var Variable = document.getElementById("variable").value;
			document.getElementsByClassName("VariableA")[x].innerText = Variable;
		}
	}
	</script>
	<H5 style="position: fixed; bottom: 0px; right: 25px; color: #000000" id="mine">
		Copyright Josh Lawson
	</H5>
	<div id="InjectTo"></div>
	<iframe src="https://josh-d-l.github.io/Settings-Tab" id="Settings-Tab" style="display:none"></iframe>
	<script src="https://josh-d-l.github.io/Settings.js"></script>
	<script>
		<input type="color" id="Line Color" onchange="submit()">
		Diagram Line Color
		<br>
		<input type="color" id="Diagram Background Color" onchange="submit()">
		Diagram Background Color
		<br>
		<input type="number" id="Height/Width" onchange="heightWidth()" value="500" style="width: 45px" min="1">
		Diagram Height / Width (px)
		<br>
		<input type="number" id="xVal" value="5" style="width: 45px" min="1" onchange="submit()">
		Show x to ...
		<br>
	</script>
	<div style="position: fixed; bottom: 0px; left: 0px; color: #000000">
		<a href="https://josh-d-l.github.io/Math-Machines/" style="font-size: 200%;">Home Page</a>
 	</div>
</BODY>

</HTML>
